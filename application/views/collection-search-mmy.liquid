<div id="mmy_search" style="text-align: center; height: 350px;">
  <div id="mmy_make">
    <select id="sel_make" name="sel_make" style="width: 150px; height: 65px;"></select>
  </div>
  <div id="mmy_model">
  	<select id="sel_model" name="sel_model" style="width: 150px; height: 65px;" disabled></select>
  </div>
  <div id="mmy_year">
  	<select id="sel_year" name="sel_year" style="width: 150px; height: 65px;" disabled></select>
  </div>
  <div id="mmy_buttons">
    <div id="search_button" style="width: 10%; float: left; margin: 30px 2% 0 38%; background: green; cursor: pointer;">Search</div>
  	<div id="reset_button" style="width: 10%; float: left; margin: 30px 33% 0 2%; background: green; cursor: pointer;">Reset</div>
  </div>
</div>

<script>
  $("document").ready(function() {

  $.ajax({
      type: "POST",
      url: "https://vggio.com/Shopify-JZ-Search/product/get_Make",
      data: 'test=' + '123',
      dataType: "json", // Set the data type so jQuery can parse it for you
      success: function (data) {
        console.log(data);
        $("#sel_model").html('');
        $.each(data,function(key,value){
          $("#sel_make").append('<option value=' + key + '>' + value + '</option>');
        });
        $("#sel_model").attr('disabled', false);
      }
  });

});

  $('#search_button').click(function(){
    funcSyncProduct();
  });

  $('#reset_button').click(function(){
    $('#sel_make').find('option:selected').prop("selected",false);
    $('#sel_model').find('option:selected').prop("selected",false);
    $('#sel_year').find('option:selected').prop("selected",false);

    $('#sel_model').prop("disabled", true);
    $('#sel_year').prop("disabled", true);
  });

  $('#sel_make').change(function(){
    funcSyncMMY_Model();
  });

  $('#sel_model').change(function(){
    funcSyncMMY_Year();
  });

  var funcSyncMMY_Model = function(){

      var make = $('select[name="sel_make"] option:selected').val();
      var model = $('select[name="sel_model"] option:selected').val();
      var year = $('select[name="sel_year"] option:selected').val();

      $.ajax({
          type: "POST",
          url: "https://vggio.com/Shopify-JZ-Search/product/get_MMY",
        data: { shop: 'jz-general-store.myshopify.com', make: make},
          dataType: "json", // Set the data type so jQuery can parse it for you
          success: function (data) {
              console.log(data);

                $("#sel_model").html('');
                $.each(data,function(key,value){
                    $("#sel_model").append('<option value=' + key + '>' + value + '</option>');
                });
                $("#sel_model").attr('disabled', false);
          }
      });
  }

  var funcSyncMMY_Year = function(){

      var make = $('select[name="sel_make"] option:selected').val();
      var model = $('select[name="sel_model"] option:selected').val();
      var year = $('select[name="sel_year"] option:selected').val();

      $.ajax({
          type: "POST",
          url: "https://vggio.com/Shopify-JZ-Search/product/get_MMY",
          data: { shop: 'jz-general-store.myshopify.com', make: make, model: model},
          dataType: "json", // Set the data type so jQuery can parse it for you
          success: function (data) {
              console.log(data);

                $("#sel_year").html('');
                $.each(data,function(key,value){
                    $("#sel_year").append('<option value=' + key + '>' + value + '</option>');
                });
                $("#sel_year").attr('disabled', false);
          }
      });
  }

  var funcSyncProduct = function(){

      var make = $('select[name="sel_make"] option:selected').val();
      var model = $('select[name="sel_model"] option:selected').val();
      var year = $('select[name="sel_year"] option:selected').val();

      $.ajax({
          type: "POST",
          url: "https://vggio.com/Shopify-JZ-Search/product/get_MMY",
          data: { shop: 'jz-general-store.myshopify.com', make: make, model: model, year: year},
          dataType: "json", // Set the data type so jQuery can parse it for you
          success: function (data) {
              console.log(data);
            $('.product-grid__inner').html('');
            $.each(data,function(key,value){
              $(".product-grid__inner").append('<div class="grid__item md-dn--one-half lg--one-quarter dt--one-quarter mt4 text-align--center">' +
                '<a href="https://jz-general-store.myshopify.com/collections/all/products/"' + value.handle + 'class="grid__image relative">' +
                '<div class="product__on-sale color--shop-accent-overlay bg--shop-accent f--main t--meta font-size--xs lg--font-size--s">' + 'On Sale' + '</div>' +
                '<img src="' + value.image_url + '>' +
                '</a>' +
                '<p class="h6 font-size--m md--font-size--ml f--title">' +
                  '<a href="https://jz-general-store.myshopify.com/collections/all/products/"' + value.handle + '>' + value.title + '</a>' +
                '</p>' +
                '<p class="color--shop-accent font-size--s  t--meta f--main m0">' +
                      '$' + value.price +
                  '<span class="visually-hidden mr1">' + 'Regular price' + '</span>' +
                  '<s class="color--primary ml1">' + '' + '</s>' +
                '</p>' +
              '</div>');
            });
          }
      });
  }

</script>  
